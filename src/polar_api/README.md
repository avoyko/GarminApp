## POLAR API

## Структура

Модуль разделен на несколько частей:

#### 1. Endpoints

В этой директории расположена логика работы с какими-то ресурсами, которые пользователь хочет получить (надеюсь, я
правильно выразился). Получение какой-либо информации о пользователе в большинстве случаев происходит с помощью
транзакционной модели (см. https://www.polar.com/accesslink-api/#transaction-model).

Мы считаем, что дневная активность или информация о тренировках - это некий ресурс пользователя, поэтому классы
DailyActivity, PhysicalInfo, TrainingData, Users, PullNotifications наследуются от абстрактного класса Resource.

Для создания транзакций был написан класс Transaction, от которого наследуются классы DailyActivityTransaction,
PhysicalInfoTransaction, TrainingDataTransaction. И уже с помощью объектов этих классов мы можем получать доступную на
текущий момент информацию о пользователе.

#### 2. Accesslink

Экземпляр этого класса позволяет нам получать данные о пользователе, которые хранятся в JSON формате. Стоить отметить,
что фреймворк Crow предоставляет 2 контейнера для работы с JSON - crow::json::rvalue, crow::json::wvalue. В проекте они
заменены на юзинги ReadJson и WriteJson соответственно. В контейнер первого типа загружается Json после HTTP-запроса, из
контейнера второго типа Json записывается в строку.

#### 3. OAuth2

Этот класс обеспечивает как авторизацию пользователя по протоколу OAuth2, так и работу уже авторизованного пользователя
с API Polar, т.е. позволяет отправлять уже авторизованные HTTP-запросы на серверы Polar.

#### 4. RequestWrap

Небольшой вспомогательный класс для работы с HTTP-запросами, создание которого было обусловлено отсутствием аналога
питоновского **kwargs для C++.